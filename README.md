# clusterFTP

This program was developed to streamline the management of large file transfers between Linux computers in clusters or computer labs. One example of such transfers is distributing VM images to all or multiple computers in a teaching lab - notice that a copy these files using conventional methods can take hours and disrupt the flow of other network traffic and services.

Thus, this program, called clusterFTP, facilitates the management of these transfers using multicast copying over computer network. It also allows the execution of small tasks/commands from a single central computer. In other words, clusterFTP enables remote management of Linux computers through the execution of commands via SSH and SUDO, allowing tasks such as copying files via multicast, changing permissions, owners, directories, starting services/processes, and more.

For this purpose, clusterFTP relies on the following services/applications:
* SSH;
* Wakeonlan;
* UFTP;
* SSHpass;
* SUDO;
* nmap;

The file and directory structure of clusterFTP is as follows:
* ``clusterFTP.sh``: This is the program.
* ``conf``: This directory should contain the following files:
    * ``labs.txt`` - a text file that should contain the names of computer clusters or labs to be managed by the program. This file should have one cluster/lab name per line, such as:

    ```console
    lab01
    lab02
    lab03
    ```
    > Do not use spaces or special characters in the names.

    * ``xxx_net.txt`` - a text file that should contain the network IP followed by the CIDR subnet mask of the laboratory, where ``xxx`` should be the name assigned to the laboratory in the ``lab.txt`` file. For example, for ``lab01``, the file should be ``lab01_net.txt``. The content should be something like:

    ```console
    172.16.0.0/24
    ```

    > If this file does not exist, the program itself will suggest the name - so if in doubt, run the program and follow the steps it prompts.


    *   ``xxx_macs.txt`` - a text file containing the MAC addresses of the network interface cards. This file is vital for the program's operation. It will allow the administrator to remotely power on the computers of the cluster/laboratory via network. The MAC addresses will also be used to automatically discover IPs of each host in the cluster/laboratory. Therefore, it is necessary to gather this information host by host and register it in this file - with one MAC address per line. For example, the lab01 will have the file ``lab01_macs.txt`` with the following contents:

    ```console
    d4:5d:64:03:b5:44
    a4:5d:36:2a:57:8d
    a4:5d:36:2a:a4:2f
    ```

    ``xxx_ips.txt`` - a file that contains the IP addresses of all computers to be managed by the laboratory. This file is automatically generated by the program using informations from the MAC address file (``_macs.txt``) and the network range file (``_net.txt``) presented earlier. If necessary, it is possible to manually edit this file, which should have one IP address per line. In the example of lab01, this file could be the file ``lab01_ips.txt`` with the following contents:

    ```console
    172.16.0.1
    172.16.0.2
    162.16.0.5
    ```

Observations:

* If the previously mentioned files only exist, the program will start. Therefore, the main file is the IP addresses file - without it, the program won't work. You can input the IPs manually, but the idea is for the program to do this for you, using the other files.

* To remotely power on the computers using Wakeonlan, it's essential that the central computer (which will execute the program) be on the same LAN as the others.
